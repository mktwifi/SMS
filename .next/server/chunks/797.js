"use strict";exports.id=797,exports.ids=[797],exports.modules={76224:(e,s,a)=>{a.d(s,{Z:()=>t});var r=a(10326);let t=({label:e,type:s="text",register:a,name:t,defaultValue:i,error:n,hidden:m,inputProps:l})=>(0,r.jsxs)("div",{className:m?"hidden":"flex flex-col gap-2 w-full md:w-1/4",children:[r.jsx("label",{className:"text-xs text-gray-500",children:e}),r.jsx("input",{type:s,...a(t),className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...l,defaultValue:i}),n?.message&&r.jsx("p",{className:"text-xs text-red-400",children:n.message.toString()})]})},85797:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var r=a(10326),t=a(74064),i=a(74723),n=a(76224),m=a(8570),l=a(3682),d=a(60962),o=a(17577),c=a(31190),g=a(35047);let u=({type:e,data:s,setOpen:a,relatedData:u})=>{let{register:x,handleSubmit:p,formState:{errors:z}}=(0,i.cI)({resolver:(0,t.F)(m.Qu)}),[b,h]=(0,d.useFormState)("create"===e?l.un:l.w0,{success:!1,error:!1}),j=p(e=>{console.log(e),h(e)}),f=(0,g.useRouter)();(0,o.useEffect)(()=>{b.success&&((0,c.Am)(`Exam has been ${"create"===e?"created":"updated"}!`),a(!1),f.refresh())},[b,f,e,a]);let{lessons:q}=u;return(0,r.jsxs)("form",{className:"flex flex-col gap-8",onSubmit:j,children:[r.jsx("h1",{className:"text-xl font-semibold",children:"create"===e?"Create a new exam":"Update the exam"}),(0,r.jsxs)("div",{className:"flex justify-between flex-wrap gap-4",children:[r.jsx(n.Z,{label:"Exam title",name:"title",defaultValue:s?.title,register:x,error:z?.title}),r.jsx(n.Z,{label:"Start Date",name:"startTime",defaultValue:s?.startTime,register:x,error:z?.startTime,type:"datetime-local"}),r.jsx(n.Z,{label:"End Date",name:"endTime",defaultValue:s?.endTime,register:x,error:z?.endTime,type:"datetime-local"}),s&&r.jsx(n.Z,{label:"Id",name:"id",defaultValue:s?.id,register:x,error:z?.id,hidden:!0}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-1/4",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Lesson"}),r.jsx("select",{className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...x("lessonId"),defaultValue:s?.teachers,children:q.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))}),z.lessonId?.message&&r.jsx("p",{className:"text-xs text-red-400",children:z.lessonId.message.toString()})]})]}),b.error&&r.jsx("span",{className:"text-red-500",children:"Something went wrong!"}),r.jsx("button",{className:"bg-blue-400 text-white p-2 rounded-md",children:"create"===e?"Create":"Update"})]})}},8570:(e,s,a)=>{a.d(s,{Q1:()=>m,Qu:()=>l,UQ:()=>i,iQ:()=>n,qJ:()=>t});var r=a(27256);let t=r.z.object({id:r.z.coerce.number().optional(),name:r.z.string().min(1,{message:"Subject name is required!"}),teachers:r.z.array(r.z.string())}),i=r.z.object({id:r.z.coerce.number().optional(),name:r.z.string().min(1,{message:"Subject name is required!"}),capacity:r.z.coerce.number().min(1,{message:"Capacity name is required!"}),gradeId:r.z.coerce.number().min(1,{message:"Grade name is required!"}),supervisorId:r.z.coerce.string().optional()}),n=r.z.object({id:r.z.string().optional(),username:r.z.string().min(3,{message:"Username must be at least 3 characters long!"}).max(20,{message:"Username must be at most 20 characters long!"}),password:r.z.string().min(8,{message:"Password must be at least 8 characters long!"}).optional().or(r.z.literal("")),name:r.z.string().min(1,{message:"First name is required!"}),surname:r.z.string().min(1,{message:"Last name is required!"}),email:r.z.string().email({message:"Invalid email address!"}).optional().or(r.z.literal("")),phone:r.z.string().optional(),address:r.z.string(),img:r.z.string().optional(),bloodType:r.z.string().min(1,{message:"Blood Type is required!"}),birthday:r.z.coerce.date({message:"Birthday is required!"}),sex:r.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),subjects:r.z.array(r.z.string()).optional()}),m=r.z.object({id:r.z.string().optional(),username:r.z.string().min(3,{message:"Username must be at least 3 characters long!"}).max(20,{message:"Username must be at most 20 characters long!"}),password:r.z.string().min(8,{message:"Password must be at least 8 characters long!"}).optional().or(r.z.literal("")),name:r.z.string().min(1,{message:"First name is required!"}),surname:r.z.string().min(1,{message:"Last name is required!"}),email:r.z.string().email({message:"Invalid email address!"}).optional().or(r.z.literal("")),phone:r.z.string().optional(),address:r.z.string(),img:r.z.string().optional(),bloodType:r.z.string().min(1,{message:"Blood Type is required!"}),birthday:r.z.coerce.date({message:"Birthday is required!"}),sex:r.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),gradeId:r.z.coerce.number().min(1,{message:"Grade is required!"}),classId:r.z.coerce.number().min(1,{message:"Class is required!"}),parentId:r.z.string().min(1,{message:"Parent Id is required!"})}),l=r.z.object({id:r.z.coerce.number().optional(),title:r.z.string().min(1,{message:"Title name is required!"}),startTime:r.z.coerce.date({message:"Start time is required!"}),endTime:r.z.coerce.date({message:"End time is required!"}),lessonId:r.z.coerce.number({message:"Lesson is required!"})})}};