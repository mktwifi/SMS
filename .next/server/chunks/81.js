"use strict";exports.id=81,exports.ids=[81],exports.modules={76224:(e,s,r)=>{r.d(s,{Z:()=>t});var a=r(10326);let t=({label:e,type:s="text",register:r,name:t,defaultValue:i,error:n,hidden:m,inputProps:l})=>(0,a.jsxs)("div",{className:m?"hidden":"flex flex-col gap-2 w-full md:w-1/4",children:[a.jsx("label",{className:"text-xs text-gray-500",children:e}),a.jsx("input",{type:s,...r(t),className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...l,defaultValue:i}),n?.message&&a.jsx("p",{className:"text-xs text-red-400",children:n.message.toString()})]})},40081:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var a=r(10326),t=r(74064),i=r(74723),n=r(76224),m=r(8570),l=r(3682),d=r(60962),o=r(17577),c=r(31190),g=r(35047);let u=({type:e,data:s,setOpen:r,relatedData:u})=>{let{register:x,handleSubmit:z,formState:{errors:p}}=(0,i.cI)({resolver:(0,t.F)(m.qJ)}),[b,h]=(0,d.useFormState)("create"===e?l.I5:l.jZ,{success:!1,error:!1}),j=z(e=>{console.log(e),h(e)}),f=(0,g.useRouter)();(0,o.useEffect)(()=>{b.success&&((0,c.Am)(`Subject has been ${"create"===e?"created":"updated"}!`),r(!1),f.refresh())},[b,f,e,r]);let{teachers:q}=u;return(0,a.jsxs)("form",{className:"flex flex-col gap-8",onSubmit:j,children:[a.jsx("h1",{className:"text-xl font-semibold",children:"create"===e?"Create a new subject":"Update the subject"}),(0,a.jsxs)("div",{className:"flex justify-between flex-wrap gap-4",children:[a.jsx(n.Z,{label:"Subject name",name:"name",defaultValue:s?.name,register:x,error:p?.name}),s&&a.jsx(n.Z,{label:"Id",name:"id",defaultValue:s?.id,register:x,error:p?.id,hidden:!0}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-1/4",children:[a.jsx("label",{className:"text-xs text-gray-500",children:"Teachers"}),a.jsx("select",{multiple:!0,className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...x("teachers"),defaultValue:s?.teachers,children:q.map(e=>a.jsx("option",{value:e.id,children:e.name+" "+e.surname},e.id))}),p.teachers?.message&&a.jsx("p",{className:"text-xs text-red-400",children:p.teachers.message.toString()})]})]}),b.error&&a.jsx("span",{className:"text-red-500",children:"Something went wrong!"}),a.jsx("button",{className:"bg-blue-400 text-white p-2 rounded-md",children:"create"===e?"Create":"Update"})]})}},8570:(e,s,r)=>{r.d(s,{Q1:()=>m,Qu:()=>l,UQ:()=>i,iQ:()=>n,qJ:()=>t});var a=r(27256);let t=a.z.object({id:a.z.coerce.number().optional(),name:a.z.string().min(1,{message:"Subject name is required!"}),teachers:a.z.array(a.z.string())}),i=a.z.object({id:a.z.coerce.number().optional(),name:a.z.string().min(1,{message:"Subject name is required!"}),capacity:a.z.coerce.number().min(1,{message:"Capacity name is required!"}),gradeId:a.z.coerce.number().min(1,{message:"Grade name is required!"}),supervisorId:a.z.coerce.string().optional()}),n=a.z.object({id:a.z.string().optional(),username:a.z.string().min(3,{message:"Username must be at least 3 characters long!"}).max(20,{message:"Username must be at most 20 characters long!"}),password:a.z.string().min(8,{message:"Password must be at least 8 characters long!"}).optional().or(a.z.literal("")),name:a.z.string().min(1,{message:"First name is required!"}),surname:a.z.string().min(1,{message:"Last name is required!"}),email:a.z.string().email({message:"Invalid email address!"}).optional().or(a.z.literal("")),phone:a.z.string().optional(),address:a.z.string(),img:a.z.string().optional(),bloodType:a.z.string().min(1,{message:"Blood Type is required!"}),birthday:a.z.coerce.date({message:"Birthday is required!"}),sex:a.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),subjects:a.z.array(a.z.string()).optional()}),m=a.z.object({id:a.z.string().optional(),username:a.z.string().min(3,{message:"Username must be at least 3 characters long!"}).max(20,{message:"Username must be at most 20 characters long!"}),password:a.z.string().min(8,{message:"Password must be at least 8 characters long!"}).optional().or(a.z.literal("")),name:a.z.string().min(1,{message:"First name is required!"}),surname:a.z.string().min(1,{message:"Last name is required!"}),email:a.z.string().email({message:"Invalid email address!"}).optional().or(a.z.literal("")),phone:a.z.string().optional(),address:a.z.string(),img:a.z.string().optional(),bloodType:a.z.string().min(1,{message:"Blood Type is required!"}),birthday:a.z.coerce.date({message:"Birthday is required!"}),sex:a.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),gradeId:a.z.coerce.number().min(1,{message:"Grade is required!"}),classId:a.z.coerce.number().min(1,{message:"Class is required!"}),parentId:a.z.string().min(1,{message:"Parent Id is required!"})}),l=a.z.object({id:a.z.coerce.number().optional(),title:a.z.string().min(1,{message:"Title name is required!"}),startTime:a.z.coerce.date({message:"Start time is required!"}),endTime:a.z.coerce.date({message:"End time is required!"}),lessonId:a.z.coerce.number({message:"Lesson is required!"})})}};