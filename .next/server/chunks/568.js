"use strict";exports.id=568,exports.ids=[568],exports.modules={76224:(e,s,a)=>{a.d(s,{Z:()=>t});var r=a(10326);let t=({label:e,type:s="text",register:a,name:t,defaultValue:i,error:l,hidden:n,inputProps:m})=>(0,r.jsxs)("div",{className:n?"hidden":"flex flex-col gap-2 w-full md:w-1/4",children:[r.jsx("label",{className:"text-xs text-gray-500",children:e}),r.jsx("input",{type:s,...a(t),className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...m,defaultValue:i}),l?.message&&r.jsx("p",{className:"text-xs text-red-400",children:l.message.toString()})]})},98307:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var r=a(10326),t=a(74064),i=a(74723),l=a(76224),n=a(46226),m=a(17577),d=a(8570),o=a(60962),c=a(3682),u=a(35047),g=a(31190),x=a(3870);let p=({type:e,data:s,setOpen:a,relatedData:p})=>{let{register:h,handleSubmit:b,formState:{errors:j}}=(0,i.cI)({resolver:(0,t.F)(d.iQ)}),[z,f]=(0,m.useState)(),[y,w]=(0,o.useFormState)("create"===e?c.Y7:c.Jn,{success:!1,error:!1}),N=b(e=>{console.log(e),w({...e,img:z?.secure_url})}),q=(0,u.useRouter)();(0,m.useEffect)(()=>{y.success&&((0,g.Am)(`Teacher has been ${"create"===e?"created":"updated"}!`),a(!1),q.refresh())},[y,q,e,a]);let{subjects:S}=p;return(0,r.jsxs)("form",{className:"flex flex-col gap-8",onSubmit:N,children:[r.jsx("h1",{className:"text-xl font-semibold",children:"create"===e?"Create a new teacher":"Update the teacher"}),r.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Authentication Information"}),(0,r.jsxs)("div",{className:"flex justify-between flex-wrap gap-4",children:[r.jsx(l.Z,{label:"Username",name:"username",defaultValue:s?.username,register:h,error:j?.username}),r.jsx(l.Z,{label:"Email",name:"email",defaultValue:s?.email,register:h,error:j?.email}),r.jsx(l.Z,{label:"Password",name:"password",type:"password",defaultValue:s?.password,register:h,error:j?.password})]}),r.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Personal Information"}),(0,r.jsxs)("div",{className:"flex justify-between flex-wrap gap-4",children:[r.jsx(l.Z,{label:"First Name",name:"name",defaultValue:s?.name,register:h,error:j.name}),r.jsx(l.Z,{label:"Last Name",name:"surname",defaultValue:s?.surname,register:h,error:j.surname}),r.jsx(l.Z,{label:"Phone",name:"phone",defaultValue:s?.phone,register:h,error:j.phone}),r.jsx(l.Z,{label:"Address",name:"address",defaultValue:s?.address,register:h,error:j.address}),r.jsx(l.Z,{label:"Blood Type",name:"bloodType",defaultValue:s?.bloodType,register:h,error:j.bloodType}),r.jsx(l.Z,{label:"Birthday",name:"birthday",defaultValue:s?.birthday.toISOString().split("T")[0],register:h,error:j.birthday,type:"date"}),s&&r.jsx(l.Z,{label:"Id",name:"id",defaultValue:s?.id,register:h,error:j?.id,hidden:!0}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-1/4",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Sex"}),(0,r.jsxs)("select",{className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...h("sex"),defaultValue:s?.sex,children:[r.jsx("option",{value:"MALE",children:"Male"}),r.jsx("option",{value:"FEMALE",children:"Female"})]}),j.sex?.message&&r.jsx("p",{className:"text-xs text-red-400",children:j.sex.message.toString()})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full md:w-1/4",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Subjects"}),r.jsx("select",{multiple:!0,className:"ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full",...h("subjects"),defaultValue:s?.subjects,children:S.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))}),j.subjects?.message&&r.jsx("p",{className:"text-xs text-red-400",children:j.subjects.message.toString()})]}),r.jsx(x.ZF,{uploadPreset:"school",onSuccess:(e,{widget:s})=>{f(e.info),s.close()},children:({open:e})=>(0,r.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-2 cursor-pointer",onClick:()=>e(),children:[r.jsx(n.default,{src:"/upload.png",alt:"",width:28,height:28}),r.jsx("span",{children:"Upload a photo"})]})})]}),y.error&&r.jsx("span",{className:"text-red-500",children:"Something went wrong!"}),r.jsx("button",{className:"bg-blue-400 text-white p-2 rounded-md",children:"create"===e?"Create":"Update"})]})}},8570:(e,s,a)=>{a.d(s,{Q1:()=>n,Qu:()=>m,UQ:()=>i,iQ:()=>l,qJ:()=>t});var r=a(27256);let t=r.z.object({id:r.z.coerce.number().optional(),name:r.z.string().min(1,{message:"Subject name is required!"}),teachers:r.z.array(r.z.string())}),i=r.z.object({id:r.z.coerce.number().optional(),name:r.z.string().min(1,{message:"Subject name is required!"}),capacity:r.z.coerce.number().min(1,{message:"Capacity name is required!"}),gradeId:r.z.coerce.number().min(1,{message:"Grade name is required!"}),supervisorId:r.z.coerce.string().optional()}),l=r.z.object({id:r.z.string().optional(),username:r.z.string().min(3,{message:"Username must be at least 3 characters long!"}).max(20,{message:"Username must be at most 20 characters long!"}),password:r.z.string().min(8,{message:"Password must be at least 8 characters long!"}).optional().or(r.z.literal("")),name:r.z.string().min(1,{message:"First name is required!"}),surname:r.z.string().min(1,{message:"Last name is required!"}),email:r.z.string().email({message:"Invalid email address!"}).optional().or(r.z.literal("")),phone:r.z.string().optional(),address:r.z.string(),img:r.z.string().optional(),bloodType:r.z.string().min(1,{message:"Blood Type is required!"}),birthday:r.z.coerce.date({message:"Birthday is required!"}),sex:r.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),subjects:r.z.array(r.z.string()).optional()}),n=r.z.object({id:r.z.string().optional(),username:r.z.string().min(3,{message:"Username must be at least 3 characters long!"}).max(20,{message:"Username must be at most 20 characters long!"}),password:r.z.string().min(8,{message:"Password must be at least 8 characters long!"}).optional().or(r.z.literal("")),name:r.z.string().min(1,{message:"First name is required!"}),surname:r.z.string().min(1,{message:"Last name is required!"}),email:r.z.string().email({message:"Invalid email address!"}).optional().or(r.z.literal("")),phone:r.z.string().optional(),address:r.z.string(),img:r.z.string().optional(),bloodType:r.z.string().min(1,{message:"Blood Type is required!"}),birthday:r.z.coerce.date({message:"Birthday is required!"}),sex:r.z.enum(["MALE","FEMALE"],{message:"Sex is required!"}),gradeId:r.z.coerce.number().min(1,{message:"Grade is required!"}),classId:r.z.coerce.number().min(1,{message:"Class is required!"}),parentId:r.z.string().min(1,{message:"Parent Id is required!"})}),m=r.z.object({id:r.z.coerce.number().optional(),title:r.z.string().min(1,{message:"Title name is required!"}),startTime:r.z.coerce.date({message:"Start time is required!"}),endTime:r.z.coerce.date({message:"End time is required!"}),lessonId:r.z.coerce.number({message:"Lesson is required!"})})}};