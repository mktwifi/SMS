(()=>{var e={};e.id=307,e.ids=[307],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},6005:e=>{"use strict";e.exports=require("node:crypto")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},75955:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(10069),t(45548),t(19967),t(35866),t(32029);var a=t(23191),l=t(88716),r=t(37922),n=t.n(r),d=t(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(s,i);let c=["",{children:["(dashboard)",{children:["list",{children:["students",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,10069)),"/Users/shabirshad/Desktop/SMS/src/app/(dashboard)/list/students/[id]/page.tsx"]}]},{}]},{}]},{loading:[()=>Promise.resolve().then(t.bind(t,45548)),"/Users/shabirshad/Desktop/SMS/src/app/(dashboard)/list/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,19967)),"/Users/shabirshad/Desktop/SMS/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"/Users/shabirshad/Desktop/SMS/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/shabirshad/Desktop/SMS/src/app/(dashboard)/list/students/[id]/page.tsx"],x="/(dashboard)/list/students/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(dashboard)/list/students/[id]/page",pathname:"/list/students/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},22785:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,92481,23)),Promise.resolve().then(t.t.bind(t,79404,23)),Promise.resolve().then(t.bind(t,64910)),Promise.resolve().then(t.bind(t,89310)),Promise.resolve().then(t.bind(t,97280))},64910:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var a=t(10326),l=t(46122),r=t(57967),n=t.n(r);t(51948);var d=t(17577);let i=(0,l.Zt)(n()),c=({data:e})=>{let[s,t]=(0,d.useState)(l.kO.WORK_WEEK);return a.jsx(l.f,{localizer:i,events:e,startAccessor:"start",endAccessor:"end",views:["work_week","day"],view:s,style:{height:"98%"},onView:e=>{t(e)},min:new Date(2025,1,0,8,0,0),max:new Date(2025,1,0,17,0,0)})}},97280:(e,s,t)=>{"use strict";t.d(s,{default:()=>c});var a=t(10326),l=t(46226),r=t(30660),n=t(77007),d=t(78948);let i=[{name:"Group A",value:92,fill:"#C3EBFA"},{name:"Group B",value:8,fill:"#FAE27C"}],c=()=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md h-80 relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Performance"}),a.jsx(l.default,{src:"/moreDark.png",alt:"",width:16,height:16})]}),a.jsx(r.h,{width:"100%",height:"100%",children:a.jsx(n.u,{children:a.jsx(d.b,{dataKey:"value",startAngle:180,endAngle:0,data:i,cx:"50%",cy:"50%",innerRadius:70,fill:"#8884d8"})})}),(0,a.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"9.2"}),a.jsx("p",{className:"text-xs text-gray-300",children:"of 10 max LTS"})]}),a.jsx("h2",{className:"font-medium absolute bottom-16 left-0 right-0 m-auto text-center",children:"1st Semester - 2nd Semester"})]})},10069:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(19510),l=t(90425),r=t(36737),n=t(40165),d=t(74918),i=t(13538);let c=async({id:e})=>{let s=await i.Z.attendance.findMany({where:{studentId:e,date:{gte:new Date(new Date().getFullYear(),0,1)}}}),t=s.length,l=s.filter(e=>e.present).length;return(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h1",{className:"text-xl font-semibold",children:[l/t*100||"-","%"]}),a.jsx("span",{className:"text-sm text-gray-400",children:"Attendance"})]})};var o=t(78459),x=t(17710),m=t(57371),h=t(58585),u=t(71159);let p=async({params:{id:e}})=>{let{sessionClaims:s}=(0,o.I)(),t=s?.metadata?.role,p=await i.Z.student.findUnique({where:{id:e},include:{class:{include:{_count:{select:{lessons:!0}}}}}});return p?(0,a.jsxs)("div",{className:"flex-1 p-4 flex flex-col gap-4 xl:flex-row",children:[(0,a.jsxs)("div",{className:"w-full xl:w-2/3",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"bg-lamaSky py-6 px-4 rounded-md flex-1 flex gap-4",children:[a.jsx("div",{className:"w-1/3",children:a.jsx(x.default,{src:p.img||"/noAvatar.png",alt:"",width:144,height:144,className:"w-36 h-36 rounded-full object-cover"})}),(0,a.jsxs)("div",{className:"w-2/3 flex flex-col justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-xl font-semibold",children:p.name+" "+p.surname}),"admin"===t&&a.jsx(n.Z,{table:"student",type:"update",data:p})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit."}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 flex-wrap text-xs font-medium",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/blood.png",alt:"",width:14,height:14}),a.jsx("span",{children:p.bloodType})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/date.png",alt:"",width:14,height:14}),a.jsx("span",{children:new Intl.DateTimeFormat("en-GB").format(p.birthday)})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/mail.png",alt:"",width:14,height:14}),a.jsx("span",{children:p.email||"-"})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/3 lg:w-full 2xl:w-1/3 flex items-center gap-2",children:[a.jsx(x.default,{src:"/phone.png",alt:"",width:14,height:14}),a.jsx("span",{children:p.phone||"-"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex gap-4 justify-between flex-wrap",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleAttendance.png",alt:"",width:24,height:24,className:"w-6 h-6"}),a.jsx(u.Suspense,{fallback:"loading...",children:a.jsx(c,{id:p.id})})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleBranch.png",alt:"",width:24,height:24,className:"w-6 h-6"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h1",{className:"text-xl font-semibold",children:[p.class.name.charAt(0),"th"]}),a.jsx("span",{className:"text-sm text-gray-400",children:"Grade"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleLesson.png",alt:"",width:24,height:24,className:"w-6 h-6"}),(0,a.jsxs)("div",{className:"",children:[a.jsx("h1",{className:"text-xl font-semibold",children:p.class._count.lessons}),a.jsx("span",{className:"text-sm text-gray-400",children:"Lessons"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md flex gap-4 w-full md:w-[48%] xl:w-[45%] 2xl:w-[48%]",children:[a.jsx(x.default,{src:"/singleClass.png",alt:"",width:24,height:24,className:"w-6 h-6"}),(0,a.jsxs)("div",{className:"",children:[a.jsx("h1",{className:"text-xl font-semibold",children:p.class.name}),a.jsx("span",{className:"text-sm text-gray-400",children:"Class"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 bg-white rounded-md p-4 h-[800px]",children:[a.jsx("h1",{children:"Student's Schedule"}),a.jsx(r.Z,{type:"classId",id:p.class.id})]})]}),(0,a.jsxs)("div",{className:"w-full xl:w-1/3 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Shortcuts"}),(0,a.jsxs)("div",{className:"mt-4 flex gap-4 flex-wrap text-xs text-gray-500",children:[a.jsx(m.default,{className:"p-3 rounded-md bg-lamaSkyLight",href:`/list/lessons?classId=${p.class.id}`,children:"Student's Lessons"}),a.jsx(m.default,{className:"p-3 rounded-md bg-lamaPurpleLight",href:`/list/teachers?classId=${p.class.id}`,children:"Student's Teachers"}),a.jsx(m.default,{className:"p-3 rounded-md bg-pink-50",href:`/list/exams?classId=${p.class.id}`,children:"Student's Exams"}),a.jsx(m.default,{className:"p-3 rounded-md bg-lamaSkyLight",href:`/list/assignments?classId=${p.class.id}`,children:"Student's Assignments"}),a.jsx(m.default,{className:"p-3 rounded-md bg-lamaYellowLight",href:`/list/results?studentId=${p.id}`,children:"Student's Results"})]})]}),a.jsx(d.ZP,{}),a.jsx(l.Z,{})]})]}):(0,h.notFound)()}},90425:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(19510),l=t(13538),r=t(78459);let n=async()=>{let{userId:e,sessionClaims:s}=(0,r.I)(),t=s?.metadata?.role,n=await l.Z.announcement.findMany({take:3,orderBy:{date:"desc"},where:{..."admin"!==t&&{OR:[{classId:null},{class:{teacher:{lessons:{some:{teacherId:e}}},student:{students:{some:{id:e}}},parent:{students:{some:{parentId:e}}}}[t]||{}}]}}});return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Announcements"}),a.jsx("span",{className:"text-xs text-gray-400",children:"View All"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[n[0]&&(0,a.jsxs)("div",{className:"bg-lamaSkyLight rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:n[0].title}),a.jsx("span",{className:"text-xs text-gray-400 bg-white rounded-md px-1 py-1",children:new Intl.DateTimeFormat("en-GB").format(n[0].date)})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:n[0].description})]}),n[1]&&(0,a.jsxs)("div",{className:"bg-lamaPurpleLight rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:n[1].title}),a.jsx("span",{className:"text-xs text-gray-400 bg-white rounded-md px-1 py-1",children:new Intl.DateTimeFormat("en-GB").format(n[1].date)})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:n[1].description})]}),n[2]&&(0,a.jsxs)("div",{className:"bg-lamaYellowLight rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",children:n[2].title}),a.jsx("span",{className:"text-xs text-gray-400 bg-white rounded-md px-1 py-1",children:new Intl.DateTimeFormat("en-GB").format(n[2].date)})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:n[2].description})]})]})]})}},36737:(e,s,t)=>{"use strict";t.d(s,{Z:()=>m});var a=t(19510),l=t(13538),r=t(68570);let n=(0,r.createProxy)(String.raw`/Users/shabirshad/Desktop/SMS/src/components/BigCalender.tsx`),{__esModule:d,$$typeof:i}=n;n.default;let c=(0,r.createProxy)(String.raw`/Users/shabirshad/Desktop/SMS/src/components/BigCalender.tsx#default`),o=()=>{let e=new Date,s=e.getDay();return e.setDate(e.getDate()-(0===s?6:s-1)),e},x=e=>{let s=o();return e.map(e=>{let t=e.start.getDay(),a=new Date(s);a.setDate(s.getDate()+(0===t?6:t-1)),a.setHours(e.start.getHours(),e.start.getMinutes(),e.start.getSeconds());let l=new Date(a);return l.setHours(e.end.getHours(),e.end.getMinutes(),e.end.getSeconds()),{title:e.title,start:a,end:l}})},m=async({type:e,id:s})=>{let t=x((await l.Z.lesson.findMany({where:{..."teacherId"===e?{teacherId:s}:{classId:s}}})).map(e=>({title:e.name,start:e.startTime,end:e.endTime})));return a.jsx("div",{className:"",children:a.jsx(c,{data:t})})}},40165:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var a=t(19510),l=t(13538),r=t(26609),n=t(78459);let d=async({table:e,type:s,data:t,id:d})=>{let i={},{userId:c,sessionClaims:o}=(0,n.I)(),x=o?.metadata?.role;if("delete"!==s)switch(e){case"subject":i={teachers:await l.Z.teacher.findMany({select:{id:!0,name:!0,surname:!0}})};break;case"class":let m=await l.Z.grade.findMany({select:{id:!0,level:!0}});i={teachers:await l.Z.teacher.findMany({select:{id:!0,name:!0,surname:!0}}),grades:m};break;case"teacher":i={subjects:await l.Z.subject.findMany({select:{id:!0,name:!0}})};break;case"student":let h=await l.Z.grade.findMany({select:{id:!0,level:!0}});i={classes:await l.Z.class.findMany({include:{_count:{select:{students:!0}}}}),grades:h};break;case"exam":i={lessons:await l.Z.lesson.findMany({where:{..."teacher"===x?{teacherId:c}:{}},select:{id:!0,name:!0}})}}return a.jsx("div",{className:"",children:a.jsx(r.ZP,{table:e,type:s,data:t,id:d,relatedData:i})})}},74918:(e,s,t)=>{"use strict";t.d(s,{ZP:()=>d});var a=t(68570);let l=(0,a.createProxy)(String.raw`/Users/shabirshad/Desktop/SMS/src/components/Performance.tsx`),{__esModule:r,$$typeof:n}=l;l.default;let d=(0,a.createProxy)(String.raw`/Users/shabirshad/Desktop/SMS/src/components/Performance.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,425,79,966,210,682,542,451,7,327],()=>t(75955));module.exports=a})();